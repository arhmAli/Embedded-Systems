#include "P18f452.INC"
list P=18F452, F=INHX32, MM=OFF;
CONFIG OSC=XT;
CONFIG WDT=OFF;
#define LEDs PORTB
CBLOCK 0x00
TEMP_0, TEMP_1
ENDC
ORG 0H
GOTO MAIN
ORG 0x200
MAIN:
MOVLB 0x01
MOVLW 0x00
MOVWF TRISB
CLRF TEMP_0,1
CLRF TEMP_1,1
CLRF LEDs
ENDLESS_LOOP
    MOVF TEMP_0, W, 1
CALL BCD_SEVENSEG
MOVFF WREG, LEDs
INCF TEMP_0, F, 1
MOVF TEMP_0, W, 1
DAW
ANDLW 0x0F
MOVWF TEMP_0, 1
CALL DELAY
BRA ENDLESS_LOOP
BCD_SEVENSEG MULLW 0x02
MOVFF PRODL, WREG
ADDWF PCL,F
RETLW 0x3F
RETLW 0x06
RETLW 0x5B
RETLW 0x4F
RETLW 0x66
RETLW 0x6D
RETLW 0x7D
RETLW 0x07
RETLW 0x7F
RETLW 0x6F
    
DELAY 
    movlw 0xff
    movwf TEMP_1
    addlw 0xff
    movwf TEMP_1
  back  decfsz TEMP_1,f
    BRA back
    RETURN
    END